<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Growth API - About</title>
    <meta http-equiv="Cache-Control" content="public, max-age=3600">
    <meta http-equiv="Expires" content="<%= 1.hour.from_now.httpdate %>">
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
            max-width: 800px;
            margin: 0 auto;
            padding: 2rem;
            color: #333;
            background: #fafafa;
        }
        
        h1 {
            color: #2c3e50;
            border-bottom: 3px solid #3498db;
            padding-bottom: 0.5rem;
            margin-bottom: 2rem;
        }
        
        h2 {
            color: #34495e;
            margin-top: 2rem;
            margin-bottom: 1rem;
        }
        
        .hero {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 3rem 2rem;
            border-radius: 12px;
            margin-bottom: 3rem;
            text-align: center;
        }
        
        .hero h1 {
            border: none;
            margin: 0;
            font-size: 2.5rem;
        }
        
        .hero p {
            font-size: 1.2rem;
            margin: 1rem 0 0 0;
            opacity: 0.9;
        }
        
        .features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin: 2rem 0;
        }
        
        .feature {
            background: white;
            padding: 1.5rem;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .feature h3 {
            color: #3498db;
            margin-top: 0;
        }
        
        .tech-stack {
            background: white;
            padding: 2rem;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            margin: 2rem 0;
        }
        
        .tech-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 1rem;
            margin-top: 1rem;
        }
        
        .tech-item {
            background: #f8f9fa;
            padding: 0.75rem;
            border-radius: 6px;
            text-align: center;
            font-weight: 500;
        }
        
        .endpoints-table {
            background: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            margin: 2rem 0;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
        }
        
        th, td {
            padding: 1rem;
            text-align: left;
            border-bottom: 1px solid #eee;
        }
        
        th {
            background: #3498db;
            color: white;
            font-weight: 600;
        }
        
        tr:hover {
            background: #f8f9fa;
        }
        
        .code-block {
            background: #2c3e50;
            color: #ecf0f1;
            padding: 1rem;
            border-radius: 6px;
            font-family: 'Monaco', 'Menlo', monospace;
            font-size: 0.9rem;
            overflow-x: auto;
            margin: 1rem 0;
        }
        
        .security-features {
            background: #e8f5e8;
            border-left: 4px solid #27ae60;
            padding: 1.5rem;
            border-radius: 0 8px 8px 0;
            margin: 2rem 0;
        }
        
        .security-features h3 {
            color: #27ae60;
            margin-top: 0;
        }
        
        .architecture {
            background: white;
            padding: 2rem;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            margin: 2rem 0;
        }
        
        .arch-layer {
            background: #f8f9fa;
            margin: 0.5rem 0;
            padding: 1rem;
            border-radius: 6px;
            border-left: 4px solid #3498db;
        }
        
        .arch-layer strong {
            color: #2c3e50;
        }
        
        @media (max-width: 600px) {
            body {
                padding: 1rem;
            }
            
            .hero {
                padding: 2rem 1rem;
            }
            
            .hero h1 {
                font-size: 2rem;
            }
        }
    </style>
</head>
<body>
    <div class="hero">
        <h1>Growth API</h1>
        <p>Rails 7 API for subscription platforms with user management, analytics, and event tracking</p>
    </div>

    <div class="features">
        <div class="feature">
            <h3>Authentication</h3>
            <p>Secure JWT-based user signup and login with rate limiting protection</p>
        </div>
        <div class="feature">
            <h3>Subscriptions</h3>
            <p>Free and premium subscription management with easy upgrade flows</p>
        </div>
        <div class="feature">
            <h3>Analytics</h3>
            <p>Event tracking and admin dashboard with real-time metrics</p>
        </div>
        <div class="feature">
            <h3>Performance</h3>
            <p>Redis caching, background jobs, and optimized database queries</p>
        </div>
    </div>

    <div class="tech-stack">
        <h2>Technology Stack</h2>
        <div class="tech-grid">
            <div class="tech-item">Ruby 3.3.4</div>
            <div class="tech-item">Rails 7.2</div>
            <div class="tech-item">PostgreSQL</div>
            <div class="tech-item">Redis</div>
            <div class="tech-item">Devise + JWT</div>
            <div class="tech-item">Sidekiq</div>
            <div class="tech-item">RSpec</div>
            <div class="tech-item">Docker</div>
        </div>
    </div>

    <h2>Quick Start</h2>
    <div class="code-block">
git clone &lt;your-repo-url&gt;
cd growth_api

# Copy environment variables
cp .env.example .env

# Start services
docker-compose up --build

# Run migrations
docker-compose exec web bin/rails db:create db:migrate
    </div>

    <div class="endpoints-table">
        <h2 style="padding: 1rem 1rem 0 1rem; margin: 0;">API Endpoints</h2>
        <table>
            <thead>
                <tr>
                    <th>Method</th>
                    <th>Endpoint</th>
                    <th>Description</th>
                    <th>Auth Required</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>POST</td>
                    <td>/v1/signup</td>
                    <td>Create account</td>
                    <td>No</td>
                </tr>
                <tr>
                    <td>POST</td>
                    <td>/v1/login</td>
                    <td>Get JWT token</td>
                    <td>No</td>
                </tr>
                <tr>
                    <td>GET</td>
                    <td>/v1/profile</td>
                    <td>User details</td>
                    <td>Yes</td>
                </tr>
                <tr>
                    <td>POST</td>
                    <td>/v1/subscribe</td>
                    <td>Upgrade to premium</td>
                    <td>Yes</td>
                </tr>
                <tr>
                    <td>POST</td>
                    <td>/v1/event</td>
                    <td>Log user activity</td>
                    <td>Yes</td>
                </tr>
                <tr>
                    <td>GET</td>
                    <td>/v1/admin/analytics/dashboard</td>
                    <td>Admin metrics</td>
                    <td>Yes (Admin)</td>
                </tr>
            </tbody>
        </table>
    </div>

    <div class="security-features">
        <h3>Security Features</h3>
        <ul>
            <li>Rate limiting (5 requests/minute per IP)</li>
            <li>Input validation and sanitization</li>
            <li>JWT token authentication</li>
            <li>Admin role verification</li>
            <li>SQL injection protection via ActiveRecord</li>
        </ul>
    </div>

    <div class="architecture">
        <h2>Architecture Overview</h2>
        <div class="arch-layer">
            <strong>Controllers:</strong> Handle HTTP requests, authentication, and rate limiting
        </div>
        <div class="arch-layer">
            <strong>Services:</strong> Business logic (SubscriptionService)
        </div>
        <div class="arch-layer">
            <strong>Jobs:</strong> Background processing (EventLoggerJob)
        </div>
        <div class="arch-layer">
            <strong>Models:</strong> Data layer with validations and associations
        </div>
        <div class="arch-layer">
            <strong>Serializers:</strong> JSON API responses
        </div>
    </div>

    <h2>Development Notes</h2>
    <ul>
        <li>Background jobs process events asynchronously</li>
        <li>User profiles cached for 10 minutes</li>
        <li>Admin analytics cached for 1 hour</li>
        <li>Rate limits stored in Redis with TTL</li>
    </ul>

    <h2>Testing</h2>
    <div class="code-block">
# Run all tests
bin/rails spec

# Run specific test files
bin/rails spec spec/requests/api/v1/
    </div>
</body>
</html>
